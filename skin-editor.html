<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Skin Editor</title>
    <link rel="stylesheet" href="skin-editor.css">
</head>
<body>
    <div class="skin-editor-container">
        <header class="editor-header">
            <h1>üé® Snake Skin Editor</h1>
            <button id="backToGameBtn" class="back-btn">‚Üê Back to Game</button>
        </header>

        <div class="editor-content">
            <!-- Upload Section -->
            <div class="upload-section">
                <h2>Upload Custom Skin</h2>
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <div class="upload-icon">üìÅ</div>
                        <p>Drop your 1080√ó1080px sprite sheet here or <strong>click to browse</strong></p>
                        <p class="upload-hint">Must be a 3√ó3 grid layout (360√ó360px per cell)</p>
                    </div>
                    <input type="file" id="skinUpload" accept="image/*" style="display: none;">
                </div>
                
                <div class="upload-info">
                    <h3>Required Layout (3√ó3 Grid):</h3>
                    <div class="layout-grid">
                        <div class="layout-cell">Body Turn</div>
                        <div class="layout-cell">Body Straight</div>
                        <div class="layout-cell">Head</div>
                        <div class="layout-cell">Tail</div>
                        <div class="layout-cell">Empty</div>
                        <div class="layout-cell">Empty</div>
                        <div class="layout-cell">Apple/Food</div>
                        <div class="layout-cell">Empty</div>
                        <div class="layout-cell">Dead Head</div>
                    </div>
                </div>
            </div>

            <!-- Preview Section -->
            <div class="preview-section" id="previewSection" style="display: none;">
                <h2>Skin Preview</h2>
                <div class="original-preview">
                    <h3>Original Sprite Sheet</h3>
                    <canvas id="originalCanvas" width="1080" height="1080"></canvas>
                </div>
                
                <div class="sliced-preview">
                    <h3>Sliced Components</h3>
                    <div class="sliced-grid" id="slicedGrid">
                        <!-- Sliced segments will be displayed here -->
                    </div>
                </div>
                
                <div class="preview-actions">
                    <button id="applySkinBtn" class="apply-btn">Apply This Skin</button>
                    <button id="resetSkinBtn" class="reset-btn">Reset to Default</button>
                    <button id="downloadSlicesBtn" class="download-btn">Download Slices</button>
                </div>
            </div>

            <!-- Current Skins Gallery -->
            <div class="gallery-section">
                <h2>Available Skins</h2>
                <div class="skins-gallery" id="skinsGallery">
                    <div class="skin-item active" data-skin="default">
                        <div class="skin-preview">
                            <img src="assets/snakes/greeny/head_up.png" alt="Default Skin">
                        </div>
                        <div class="skin-name">Default Green</div>
                        <button class="select-skin-btn">Selected</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Canvas for slicing operations (hidden) -->
    <canvas id="slicingCanvas" style="display: none;"></canvas>
    
    <script src="skin-editor.js"></script>
</body>
</html>